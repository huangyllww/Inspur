
                              CSM16 Update History
_______________________________________________________________________
Date:  06-02-2023
======================================================================
   Bug fixed:
======================================================================
1. Print the remaining chars to the serial from the first different char in oneline.

Date:  01-17-2023
======================================================================
   Bug fixed:
======================================================================
1. Change UP and DOWN arrow to ^ and v for Serial Redirection.
2. Row should starts from 1 when set position in Serial Redirection.

Date:  11-22-2022
======================================================================
   Bug fixed:
======================================================================
1. Clearing the screen and resetting the cursor position before Legacy INT19 booting
will disable ComRedirection function when booting legacy options.
======================================================================
_______________________________________________________________________

Date:  11-11-2022
======================================================================
   Feature Support
======================================================================
1. Clear the screen and reset the cursor position before Legacy INT19 booting
======================================================================
_______________________________________________________________________

Date:  10-31-2022
======================================================================
   Feature Support
======================================================================
1. Add PxeBoot Delay(called N later) Second and Media Detect Times(called M later);
2.1 Support waiting N seconds before PXE booting;
2.2 Support booting PXE Bbs entries for M times and  detecting net media for M times.
======================================================================
_______________________________________________________________________

Date:  08-20-2021
======================================================================
   Bug fixed:
======================================================================
1. Improve hook flush VGA frame buffer function when enable UCR.
======================================================================
_______________________________________________________________________

Date:  10-15-2020
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot with RAID legacy JBOD mode.
======================================================================
_______________________________________________________________________

Date:  11-18-2019
======================================================================
   Bug fixed:
======================================================================
1. Do reset type follow platform specify(EBDA offset 0x1D2, UINT8 resetvalue).
======================================================================
_______________________________________________________________________

Date:  08-03-2018
======================================================================
   Bug fixed:
======================================================================
1. Clear user wait flag when finish delay.
======================================================================
_______________________________________________________________________

Date:  08-02-2018
======================================================================
   Bug fixed:
======================================================================
1. Fixed USB disk boot issue.
======================================================================
_______________________________________________________________________

Date:  07-31-2018
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot from keylin OS with USB disk.
======================================================================
_______________________________________________________________________

Date:  05-28-2018
======================================================================
   Bug fixed:
======================================================================
1. Improve Int17 function.
======================================================================
_______________________________________________________________________

Date:  04-26-2018
======================================================================
   Bug fixed:
======================================================================
1. Int17 issue.
======================================================================
_______________________________________________________________________

Date:  12-15-2017
======================================================================
   Bug fixed:
======================================================================
1. Remove debug code.
2. clear keyboard buffer after key was removed.
======================================================================
_______________________________________________________________________

Date:  09-30-2017
======================================================================
   Bug fixed:
======================================================================
1. Add Shift with PrintScreen function for DOS PP tool to store screen.
======================================================================
_______________________________________________________________________

Date:  08-29-2017
======================================================================
   Bug fixed:
======================================================================
1. Remove some useless code.
2. Fixed cannot boot from IDE HDD, when plug NVME card.
======================================================================
_______________________________________________________________________

Date:  08-21-2017
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot install OS with IDE mode, when HDD bootorder beyond of PXE.
======================================================================
_______________________________________________________________________

Date:  08-18-2017
======================================================================
   Bug fixed:
======================================================================
1. PCI reset use 0xe instead of 0x6.
2. Skip reset function when updating flash.
======================================================================
_______________________________________________________________________

Date:  08-04-2017
======================================================================
   Bug fixed:
======================================================================
1. Just care mass storage card which is Non-BBS Compliant device.
======================================================================
_______________________________________________________________________

Date:  05-17-2017
======================================================================
   Bug fixed:
======================================================================
1. some mass storage oprom pnp header does not fill class code,
   so we will check class code of PCI config instead.
======================================================================
_______________________________________________________________________

Date:  05-11-2017
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot enter config page with LSI 9270/9260 RAID card.
======================================================================
_______________________________________________________________________

Date:  05-08-2017
======================================================================
   Bug fixed:
======================================================================
1. Improve PCI3.0 OpRom dispatch issue.
======================================================================
_______________________________________________________________________

Date:  05-05-2017
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot USB disk when there is SD card.
======================================================================
_______________________________________________________________________

Date:  04-27-2017
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot install OS to PCIe LAN iSCSI HDD.
======================================================================
_______________________________________________________________________

Date:  04-24-2017
======================================================================
   Bug fixed:
======================================================================
1. Use ACPI timer instead of 8254 timer1(port61), when platform enable it.
2. Remove some useless delay.
======================================================================
_______________________________________________________________________

Date:  04-22-2017
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot install to 2nd hdd, When connect two HDDs.
2. Patch CMOS PORTB BIT1 will been changed issue.
3. Fixed AS11 code cannot work under DOS.
======================================================================
_______________________________________________________________________

Date:  03-06-2017
======================================================================
   Bug fixed:
======================================================================
1. Fixed some intel LAN card dispatch will make system hang (int3 issue).
======================================================================
_______________________________________________________________________

Date:  06-22-2016
======================================================================
   Bug fixed:
======================================================================
1. System will hang if SmbiosTable address is 0.
======================================================================
_______________________________________________________________________

Date:  06-12-2016
======================================================================
   Bug fixed:
======================================================================
1. Fixed reset issue under DOS.
======================================================================
_______________________________________________________________________

Date:  06-06-2016
======================================================================
   Bug fixed:
======================================================================
1. Hook int08 to issue SW SMI for xhci keyboard.
======================================================================
_______________________________________________________________________

Date:  02-25-2016
======================================================================
   Bug fixed:
======================================================================
1. Fixed keyboard cannot work under DOS when disable IGD with IDE mode.
======================================================================
_______________________________________________________________________

Date:  11-13-2015
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot from HDD when first boot priority is CDROM.
======================================================================
_______________________________________________________________________

Date:  09-22-2015
======================================================================
   Bug fixed:
======================================================================
1. Remove AS11 code function, this will make edit.exe unhappy under DOS.
======================================================================
_______________________________________________________________________

Date:  09-08-2015
======================================================================
   Bug fixed:
======================================================================
1. Fixed PCI32 service error.
======================================================================
_______________________________________________________________________

Date:  08-26-2015
======================================================================
   Bug fixed:
======================================================================
1. Skip cannot boot USB disk.
======================================================================
_______________________________________________________________________

Date:  08-21-2015
======================================================================
   Bug fixed:
======================================================================
1. Fixed some PS2 mouse cannot work under DOS.
======================================================================
_______________________________________________________________________

Date:  08-20-2015
======================================================================
   Bug fixed:
======================================================================
1. Fixed AS11 code cannot work under DOS.
======================================================================
_______________________________________________________________________

Date:  08-17-2015
======================================================================
   Bug fixed:
======================================================================
1. Check MBR BOOTID before start boot.
2. Add check sum for PCI32 header.
3. At int13 USB HDD handler if parameter is invalid just clean destination address. 
======================================================================
_______________________________________________________________________

Date:  06-02-2015
======================================================================
   Bug fixed:
======================================================================
1. Fixed handle with Ide Pci Handler error.
2. Add debug supported.
======================================================================
_______________________________________________________________________

Date:  04-07-2015
======================================================================
   Bug fixed:
======================================================================
1. Add cpu reset for dual OS.
======================================================================
_______________________________________________________________________

Date:  01-14-2015
======================================================================
   Bug fixed:
======================================================================
1. Fixed POST fail when press F7 under Avoton platform.
======================================================================
_______________________________________________________________________

Date:  10-16-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed run standby.exe will hang under dos.
======================================================================
_______________________________________________________________________

Date:  09-26-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot from USB FDD when connect more than 4 USB HDDs.
======================================================================
_______________________________________________________________________

Date:  09-15-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed grub4dos always show cd rom without connect cd rom.
======================================================================
_______________________________________________________________________

Date:  09-14-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot windows98 issue.
======================================================================
_______________________________________________________________________

Date:  09-10-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed grub4dos cannot show cd rom issue.
======================================================================
_______________________________________________________________________

Date:  09-05-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot SATA device with AHCI mode when connecting PCI LAN card
======================================================================
_______________________________________________________________________

Date:  08-31-2014
======================================================================
   Bug fixed:
======================================================================
1. Remove patch for some Non-BBS compliant OptionRom.
======================================================================
_______________________________________________________________________

Date:  08-01-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot install iSoft linux OS with some SATA CDROM IDE mode.
======================================================================
_______________________________________________________________________

Date:  07-12-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot install �ջ� linux with SATA CDROM.
======================================================================
_______________________________________________________________________

Date:  07-09-2014
======================================================================
   Bug fixed:
======================================================================
1. Sync USB LED by software SMI.
======================================================================
_______________________________________________________________________

Date:  07-04-2014
======================================================================
   Bug fixed:
======================================================================
1. Remove two flags which is patch for VIA platform.
  a) one for ps2keyboard state, another for read HDD mode.
======================================================================
_______________________________________________________________________

Date:  06-03-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed after issue int19 & int18 cannot return to UEFI mode issue.
======================================================================
_______________________________________________________________________

Date:  05-20-2014
======================================================================
   Bug fixed:
======================================================================
1. Fixed Avoton will hang issue, when enable console redirection.
======================================================================
_______________________________________________________________________

Date:  04-30-2014
======================================================================
   Bug fixed:
======================================================================
1. PCI32 signature should be aligned by 16
======================================================================
_______________________________________________________________________

Date:  01-24-2014
======================================================================
   Bug fixed:
======================================================================
1. Issue int 18h after int 19h for user to hook int 18h.
======================================================================
_______________________________________________________________________

Date:  01-06-2014
======================================================================
   Bug fixed:
======================================================================
1. Set max wait timer to 2s for DMA disk transfer.
======================================================================
_______________________________________________________________________

Date:  12-18-2013
======================================================================
   Bug fixed:
======================================================================
1. Fixed Hitachi HDD boot issue on VIA platform.
======================================================================
_______________________________________________________________________

Date:  12-16-2013
======================================================================
   Bug fixed:
======================================================================
1. HDD data transfer is completed as indicated by either the Bus Master
 IDE Active bit being cleared or interrupt bit is set, or both.
======================================================================
_______________________________________________________________________

Date:  12-03-2013
======================================================================
   Bug fixed:
======================================================================
1. Add two flags for compatibility VIA platform.
  a) one for ps2keyboard state, another for read HDD mode.
======================================================================
_______________________________________________________________________

Date:  10-17-2013
======================================================================
   Bug fixed:
======================================================================
1. Change SmmPort type from UINT8 to UINT16.
======================================================================
_______________________________________________________________________

Date:  09-29-2013
======================================================================
   Bug fixed:
======================================================================
1. Get SmmPort from SMM table instead of hard code.
======================================================================
_______________________________________________________________________

Date:  08-31-2013
======================================================================
   Bug fixed:
======================================================================
1. Disable legacy floppy support to release more E000 segment usable 
   memory for legacy OpRom to use.
======================================================================
_______________________________________________________________________

Date:  08-12-2013
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot from HDD with RAID mode.
======================================================================
_______________________________________________________________________

Date:  07-21-2013
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot from USB CDRom with attached USB disk.
======================================================================
_______________________________________________________________________

Date:  07-20-2013
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot from USB disk with Fedora OS.
======================================================================
_______________________________________________________________________

Date:  05-13-2013
======================================================================
   Bug fixed:
======================================================================
1. It cannot boot next device, if pass 3 times wrong HDD password.
======================================================================
_______________________________________________________________________

Date:  05-06-2013
======================================================================
   Bug fixed:
======================================================================
1. Boot priority issue.
======================================================================
_______________________________________________________________________

Date:  01-17-2013
======================================================================
   Bug fixed:
======================================================================
1. Fixed BIOS32 issue.
======================================================================
_______________________________________________________________________

Date:  01-08-2013
======================================================================
   Bug fixed:
======================================================================
1. Sometime will boot fail with Memo Right SSD HDD.
======================================================================
_______________________________________________________________________

Date:  12-14-2012
======================================================================
   Bug fixed:
======================================================================
1. cannot boot from USB CD/DVD with cd image.
======================================================================
_______________________________________________________________________

Date:  07-26-2012
======================================================================
   Bug fixed:
======================================================================
1. when IDE hdd number is 0, Int13 chain issue.
======================================================================
_______________________________________________________________________

Date:  07-13-2012
======================================================================
   Bug fixed:
======================================================================
1. Native RAID mode cannot access HDD.
======================================================================
_______________________________________________________________________

Date:  07-02-2012
======================================================================
   Bug fixed:
======================================================================
1. Remove legacy free flag.
======================================================================
_______________________________________________________________________

Date:  06-27-2012
======================================================================
   Bug fixed:
======================================================================
1. before boot send int1a for TPM check.
======================================================================
_______________________________________________________________________

Date:  06-14-2012
======================================================================
   Bug fixed:
======================================================================
1. Fixed CF-control to IDE control cannot boot from CF card.
======================================================================
_______________________________________________________________________

Date:  06-05-2012
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot RAID OS when connect two HDDs.
======================================================================
______________________________________________________________________

Date:  05-30-2012
======================================================================
   Bug fixed:
======================================================================
1. Fixed cannot boot AHCI mode when insert RAID card.
2. Improve OpRom performance.
======================================================================
